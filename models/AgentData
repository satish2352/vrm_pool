const { DataTypes, Model } = require('sequelize');
const { Sequelize } = require("sequelize");
const moment = require('moment-timezone'); // Import moment-timezone
const dbObj = require('../db');


const AgentData = dbObj.define('agentdata', {
  AgentName: {
    type: DataTypes.STRING(255),
    allowNull: true
  },
  AgentEmail: {
    type: DataTypes.STRING(255),
    allowNull: true
  },
  GroupName: {
    type: DataTypes.STRING(255),
    allowNull: true
  },
  IncomingCalls: {
    type: DataTypes.INTEGER,
    allowNull: true
  },
  MissedCalls: {
    type: DataTypes.INTEGER,
    allowNull: true
  },
  NoAnswer: {
    type: DataTypes.INTEGER,
    allowNull: true
  },
  Busy: {
    type: DataTypes.INTEGER,
    allowNull: true
  },
  Failed: {
    type: DataTypes.INTEGER,
    allowNull: true
  },
  OutgoingCalls: {
    type: DataTypes.INTEGER,
    allowNull: true
  },
  TotalCallDurationInMinutes: {
    type: DataTypes.DECIMAL(10, 2),
    allowNull: true
  },
  AverageHandlingTimeInMinutes: {
    type: DataTypes.DECIMAL(5, 2),
    allowNull: true
  },
  DeviceOnPercent: {
    type: DataTypes.INTEGER,
    allowNull: true
  },
  DeviceOnHumanReadable: {
    type: DataTypes.STRING(255),
    allowNull: true
  },
  AgentPhoneNumber: {
    type: DataTypes.STRING(15),
    allowNull: true
  },
  createdAt: {
    type: DataTypes.DATE,
    allowNull: false,
    defaultValue: () => moment.tz('Asia/Kolkata').format('YYYY-MM-DD HH:mm:ss') // Set default value for createdAt
  },
  updatedAt: {
    type: DataTypes.DATE,
    allowNull: false,
    defaultValue: () => moment.tz('Asia/Kolkata').format('YYYY-MM-DD HH:mm:ss') // Set default value for createdAt
  }
}, {
  // Other options here
});
var time=moment.tz('Asia/Kolkata').format('YYYY-MM-DD HH:mm:ss');
console.log(time);
// Synchronize the model with the databas

module.exports = AgentData;